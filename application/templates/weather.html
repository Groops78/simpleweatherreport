{# application/templates/index.html #}

{% extends 'base.html' %}

{% block body %}

  <main>

  <header>

    <div class="header__title">

      <h1 class="header__text">YOUR WEATHER</h1>

    </div>
  
    <form action="{{ url_for('get_local_weather') }}" method="POST">
  
      {{ form.csrf_token }}
      {{ form.address(class_='form__address', placeholder='Enter Location') }}
      {{ form.submit(class_='form__btn') }}
  
    </form>

  </header>
  
  <table class="today">

    <tbody>
      <tr>
        <td class="today__text">{{ date_time if date_time }}</td>
      </tr>
    </tbody>

  </table>

  <h4>Current Conditions:</h4>

  <table class="current-conditions-table">

    <thead>
      <tr>
        <th>Temperature</th>
        <th>Forecast</th>
        <th>Low</th>
        <th>High</th>
        <th>Sunrise</th>
        <th>Sunset</th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>{{ '{:.2f}F°/{:.1f}C°'.format(current_temp, current_temp_c) if current_temp }}</td>
        <td>{{ current_forecast if current_forecast }}</td>
        <td>{{ '{:.2f}F°/{:.1f}C°'.format(current_low, current_low_c) if current_low }}</td>
        <td>{{ '{:.2f}F°/{:.1f}C°'.format(current_high, current_high_c) if current_high }}</td>
        <td>{{ sunrise if sunrise }}</td>
        <td>{{ sunset if sunset }}</td>
      </tr>
    </tbody>

  </table>
  
  <h4>Hourly:</h4>

    <table class="hourly-table">

      <thead>

        <tr>
          <th>Hour</th>
          <th>Temperature F/C</th>
          <th>Forecast</th>
          <th>Humidity</th>
          <th>Wind_MPH</th>
          <th>UV_Index</th>
          <th>Ozone</th>
          <th>Visibility</th>
          <th>Pressure</th>
        </tr>

      </thead>

      <tbody>

        {% for num in range(12) %}
          <tr>
            <td>{{ '{}h'.format(hours[num]) if hours }}</td>
            <td>{{ '{:.2f}F°/{:.1f}C°'.format(temps[num], temps_celcius[num]) if temps }}</td>
            <td>{{ forecast[num] if forecast }}</td>
            <td>{{ humidity[num] if humidity }}</td>
            <td>{{ '{:.2f}'.format(wind_speed[num]) if wind_speed }}</td>
            <td>{{ uv_index[num] if uv_index }}</td>
            <td>{{ '{:.1f}'.format(ozone[num]) if ozone }}</td>
            <td>{{ pressure[num] if pressure }}</td>
            <td>{{ visibility[num] if visibility }}</td>
          </tr>
        {% endfor %}

      </tbody>

    </table>

    <h4>Location:</h4>

    <table class="location-table">

      <tr>
        <td>Timezone: {{ timezone if timezone }}</td>
      </tr>

      <tr>
        <td>Address: {{ local_address if local_address }}</td>
      </tr>

      <tr>
        <td>Latitude: {{ lat if lat }}</td>
      </tr>

      <tr>
        <td>Longitude: {{ lon if lon }}</td>
      </tr>

    </table>

  </main>

  <footer>

    <div class="links">

      <p class="link__item">Powered by: <a href="https://darksky.net/poweredby/">darksky.net</a></p>
      <p class="link__item">Created by: <a href="https://github.com/brandon-wallace">brandon_wallace</a></p>

    </div>

  </footer>

{% endblock %}
